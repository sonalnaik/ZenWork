<app-left-panel></app-left-panel>

<div class="main">
  <h3 class="heading">All Shops</h3>
  <p-table [columns]="cols" [value]="shops">
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th style="width:4em"></th>
            <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                {{col.header}}
                <p-sortIcon [field]="col.field" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
        <tr>
            <td>
                <button pButton icon="fa-search" (click)="showDetail(rowData)"><img style="height: 23px;
                    width: 25px" src="./assets/magnify.png"></button>
            </td>

            <td *ngFor="let col of columns">
                {{rowData[col.field]}}
            </td>
        </tr>
    </ng-template>
</p-table>  

<p-dialog *ngIf="display" header="{{row.name}} Details" [(visible)]="display" [modal]="true" [responsive]="true" [style]="{width: '350px', minWidth: '200px'}" [minY]="70" 
 [baseZIndex]="10000">
    <div class="form-group" style="display:flex">
        <label> Shop Name:</label>
        <div>  {{row.name}}</div>
    </div>
    <div class="form-group">
        <label> Email:</label>
        <div>  {{row.email}}</div>
    </div>
    <div class="form-group">
        <label> Address:</label>
        <div *ngFor="let address of row.address"> 
            Pincode:<span>{{address.pincode}}</span>
            Locality:<span>{{address.locality}}</span>
            plot N:<span>{{address.plotNo}}</span>
        </div>
    </div>
   
    <div class="form-group">
        <label> Sub Users:</label>
        <div *ngFor="let subuser of row.subUser"> 
            Name:<span>{{subuser.name}}</span>
            Eamil:<span>{{subuser.email}}</span>
           </div>
    </div>
</p-dialog>

</div>
